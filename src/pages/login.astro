---
import { getSession } from 'auth-astro/server';
import { SignIn } from 'auth-astro/components';
import '@/styles/globals.css';
import Layout from '../layouts/Layout.astro';
import { Button } from '@/components/ui/button';
import SiteLayout from '@/layouts/SiteLayout.astro';

const session = await getSession(Astro.request);
if (session) return Astro.redirect('/');
---

<SiteLayout currentPage="login" title="Sign In">
  <main class="my-8 mx-auto max-w-2xl px-4">
    <SignIn
      class="hover:bg-gray-100 text-gray-500 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
      type="button"
      provider="github"
    >
      Sign in with GitHub
    </SignIn>
  </main>
</SiteLayout>
